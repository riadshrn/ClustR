% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ClustKMeansVar.R
\name{ClustKMeansVar}
\alias{ClustKMeansVar}
\title{VariableKMeansClust: Clustering de variables par corrélation (PC1-based K-means)}
\description{
Classe R6 implémentant un algorithme de clustering de variables basé sur
l’approche de Vigneau & Qannari (2003).

Chaque cluster est représenté par la \strong{première composante principale (PC1)}
calculée sur les variables qu’il contient.
Les variables sont réallouées en maximisant la corrélation au carré avec le PC1
de chaque cluster.
La distance utilisée est :

\deqn{d(j, k) = 1 - \mathrm{cor}(X_j, \mathrm{PC1}_k)^2}
}
\details{
\strong{Principe général :}
\enumerate{
\item Standardisation des variables (optionnelle).
\item Initialisation aléatoire d'une partition des variables.
\item Pour chaque cluster, calcul de la PC1 des variables qu'il contient
(ou copie de la variable si le cluster n’en contient qu’une).
\item Réallocation des variables en maximisant \eqn{\mathrm{cor}^2}.
\item Répétition jusqu’à convergence.
}

\strong{Intérêt :}
\itemize{
\item regroupe les variables \strong{corrélées} ;
\item structure directement interprétable (PC1 = direction principale du cluster) ;
\item méthode rapide, robuste, non supervisée ;
\item norme dans l’analyse de variables (voir Vigneau & Qannari 2003).
}

\strong{Sorties disponibles :}
\itemize{
\item Clusters finaux des variables
\item Centroïdes = PC1 de chaque cluster
\item Inerties W (intra), B (inter), T (totale) et critère Q = B/T
\item Silhouette spécifique Qannari
\item Visualisations : PCA globale, PCA par cluster, heatmap, dendrogramme
}
}
\section{Méthode }{

Pour un cluster \eqn{k}, la PC1 maximise la variance commune des variables du cluster.
Chaque variable est ensuite réassignée vers le cluster maximisant
la corrélation au carré avec le centroïde (PC1).
}

\examples{
\dontrun{
library(MASS)
data(Boston)

model <- VariableKMeansClust$new(n_clusters = 3)
model$fit(Boston)
model$summary()

# Cluster assignments
model$cluster_assignments

# Silhouette
model$compute_silhouette(Boston)
model$plot_silhouette()

# Visualisations
model$plot_global_pca()
model$plot_dendrogram()
model$plot_cluster_pca(1)
model$visualize(Boston)
}

}
\seealso{
Vigneau & Qannari (2003), "Clustering of variables around latent components"
}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{n_clusters}}{Nombre de clusters.}

\item{\code{max_iter}}{Nombre maximal d’itérations de K-means réallocatif.}

\item{\code{tol}}{Non utilisé (compatibilité).}

\item{\code{scale}}{Booléen : TRUE = standardisation des variables.}

\item{\code{var_names}}{Noms des variables numériques.}

\item{\code{n_obs}}{Nombre d'observations.}

\item{\code{means}}{Moyennes utilisées pour la standardisation.}

\item{\code{sds}}{Écarts-types utilisés pour la standardisation.}

\item{\code{data_raw}}{Données centrées/réduites (matrice numérique).}

\item{\code{cluster_assignments}}{Vecteur des clusters finaux (longueur = nb variables).}

\item{\code{centers}}{Matrice (observations x clusters) contenant les PC1 des clusters.}

\item{\code{iter}}{Nombre d’itérations réalisées.}

\item{\code{convergence}}{Booléen indiquant si la procédure a convergé.}

\item{\code{W_k}}{Inertie intra par cluster.}

\item{\code{W_total}}{Inertie intra totale.}

\item{\code{B_total}}{Inertie inter totale.}

\item{\code{T_total}}{Inertie totale.}

\item{\code{Q}}{Rapport B/T (qualité globale de partition).}

\item{\code{center_distances}}{Matrice des distances entre centroïdes (PC1).}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-ClustKMeansVar-new}{\code{ClustKMeansVar$new()}}
\item \href{#method-ClustKMeansVar-fit}{\code{ClustKMeansVar$fit()}}
\item \href{#method-ClustKMeansVar-get_clusters}{\code{ClustKMeansVar$get_clusters()}}
\item \href{#method-ClustKMeansVar-predict}{\code{ClustKMeansVar$predict()}}
\item \href{#method-ClustKMeansVar-print}{\code{ClustKMeansVar$print()}}
\item \href{#method-ClustKMeansVar-summary}{\code{ClustKMeansVar$summary()}}
\item \href{#method-ClustKMeansVar-plot_dendrogram}{\code{ClustKMeansVar$plot_dendrogram()}}
\item \href{#method-ClustKMeansVar-compute_silhouette_var}{\code{ClustKMeansVar$compute_silhouette_var()}}
\item \href{#method-ClustKMeansVar-plot_silhouette}{\code{ClustKMeansVar$plot_silhouette()}}
\item \href{#method-ClustKMeansVar-compute_silhouette}{\code{ClustKMeansVar$compute_silhouette()}}
\item \href{#method-ClustKMeansVar-plot_cluster_sizes}{\code{ClustKMeansVar$plot_cluster_sizes()}}
\item \href{#method-ClustKMeansVar-summary_table}{\code{ClustKMeansVar$summary_table()}}
\item \href{#method-ClustKMeansVar-select_k}{\code{ClustKMeansVar$select_k()}}
\item \href{#method-ClustKMeansVar-plot_global_pca}{\code{ClustKMeansVar$plot_global_pca()}}
\item \href{#method-ClustKMeansVar-plot_cluster_pca}{\code{ClustKMeansVar$plot_cluster_pca()}}
\item \href{#method-ClustKMeansVar-visualize}{\code{ClustKMeansVar$visualize()}}
\item \href{#method-ClustKMeansVar-clone}{\code{ClustKMeansVar$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-new"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-new}{}}}
\subsection{Method \code{new()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$new(
  n_clusters = 3,
  max_iter = 100,
  tol = 1e-06,
  scale = TRUE,
  seed = NULL
)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-fit"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-fit}{}}}
\subsection{Method \code{fit()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$fit(X)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-get_clusters"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-get_clusters}{}}}
\subsection{Method \code{get_clusters()}}{
Get cluster assignments (compatibility with VariableClustering)
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$get_clusters()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
Named vector of cluster assignments
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-predict"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-predict}{}}}
\subsection{Method \code{predict()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$predict(X_new)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-print"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-print}{}}}
\subsection{Method \code{print()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$print()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-summary"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-summary}{}}}
\subsection{Method \code{summary()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$summary()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-plot_dendrogram"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-plot_dendrogram}{}}}
\subsection{Method \code{plot_dendrogram()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$plot_dendrogram()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-compute_silhouette_var"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-compute_silhouette_var}{}}}
\subsection{Method \code{compute_silhouette_var()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$compute_silhouette_var(X)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-plot_silhouette"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-plot_silhouette}{}}}
\subsection{Method \code{plot_silhouette()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$plot_silhouette()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-compute_silhouette"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-compute_silhouette}{}}}
\subsection{Method \code{compute_silhouette()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$compute_silhouette(X = NULL)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-plot_cluster_sizes"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-plot_cluster_sizes}{}}}
\subsection{Method \code{plot_cluster_sizes()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$plot_cluster_sizes()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-summary_table"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-summary_table}{}}}
\subsection{Method \code{summary_table()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$summary_table(X)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-select_k"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-select_k}{}}}
\subsection{Method \code{select_k()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$select_k(
  X,
  k_min = 2,
  k_max = 10,
  method = c("elbow", "silhouette", "Q")
)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-plot_global_pca"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-plot_global_pca}{}}}
\subsection{Method \code{plot_global_pca()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$plot_global_pca()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-plot_cluster_pca"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-plot_cluster_pca}{}}}
\subsection{Method \code{plot_cluster_pca()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$plot_cluster_pca(cluster_id)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-visualize"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-visualize}{}}}
\subsection{Method \code{visualize()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$visualize(X = NULL, alt_method = "heatmap")}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustKMeansVar-clone"></a>}}
\if{latex}{\out{\hypertarget{method-ClustKMeansVar-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustKMeansVar$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
